<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Prueba Manual JWT - URL Corregida</title>
    <style> body, html { margin: 0; padding: 0; height: 100%; } #placeholder { height: 100%; } </style>
    <script type="text/javascript" src="http://localhost:8080/web-apps/apps/api/documents/api.js"></script>
</head>
<body>
    <div id="placeholder"></div>
    <script type="text/javascript">
        // Esta es la URL can√≥nica y estable para el archivo en crudo.
        const docuUrl = "https://raw.githubusercontent.com/JonaGrand/prueba-onlyoffice/main/dockerdocu.docx";
        
        const config = {
            "document": {
                "fileType": "docx",
                "key": "jwt_manual_test_002",
                "title": "Prueba Manual de JWT.docx",
                "url": docuUrl // Usamos la variable con la URL corregida
            },
            "documentType": "word",
            "editorConfig": {
                "mode": "view", 
                "lang": "es",
                "user": {
                    "id": "user-manual-jwt",
                    "name": "Usuario con Token Manual"
                }
            },
            // Token generado manualmente
            "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkb2N1bWVudCI6eyJmaWxlVHlwZSI6ImRvY3giLCJrZXkiOiJqd3RfbWFudWFsX3Rlc3RfMDAyIiwidGl0bGUiOiJQcnVlYmEgTWFudWFsIGRlIEpXVC5kb2N4IiwidXJsIjoiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0pvbmFHcmFuZC9wcnVlYmEtb25seW9mZmljZS9yZWZzL2hlYWRzL21haW4vZG9ja2VyZG9jdS5kb2N4In0sImRvY3VtZW50VHlwZSI6IndvcmQiLCJlZGl0b3JDb25maWciOnsibW9kZSI6ImVkaXQiLCJsYW5nIjoiZXMiLCJ1c2VyIjp7ImlkIjoidXNlci1tYW51YWwtand0IiwibmFtZSI6IlVzdWFyaW8gY29uIFRva2VuIE1hbnVhbCJ9fX0.VALWMYlSNKRvTdepIk3v1SzBEE_7PTfuJdOLhgGWnKs"
        };

        try {
            var docEditor = new DocsAPI.DocEditor("placeholder", config);
            console.log("Intentando inicializar el editor con la URL de GitHub corregida...");
        } catch (e) {
            console.error("Error al inicializar el editor:", e);
        }
    </script>
</body>
</html>
